/*! For license information please see react-voodoo-slider.js.LICENSE.txt */
(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>d});const n=require("@babel/runtime/helpers/extends");var s=e.n(n);const o=require("react");var r=e.n(o);const i=require("react-dom");var a=e.n(i);const l=require("react-voodoo");var u=e.n(l),c=void 0;const d=function(e){var t,n,o=e.defaultIndex,i=void 0===o?0:o,l=e.defaultInitial,d=e.style,f=void 0===d?{}:d,m=e.onClick,v=e.infinite,p=e.maxJump,x=e.visibleItems,h=e.dragHook,I=e.items,g=e.renderItem,b=e.children,T=e.overlaps,S=void 0===T?1/(x-x%2||1):T,w=e.defaultEntering,y=e.defaultLeaving,A=e.index,E=e.autoScroll,M=e.className,_=void 0===M?"":M,H=u().hook(),O=H[0],k=H[1],L=r().useRef(),N=r().useRef([]).current,P=r().useState(void 0!==A?A:i),R=P[0],j=P[1],z=r().useMemo((function(){var e=I&&g?[].concat(I):Array.isArray(b)?b:[],t=v?[].concat(e,e,e,e,e,e):[].concat(e),n=t.length,s=100*S,o=v?e.length*s:0,i=[].concat(w,u().tools.offset(y,100)),a=t.map((function(e,t){return{slideAxis:u().tools.offset(i,t*s)}}));return{allItems:t=I&&g?t.map((function(e,t){return g(e,t,(function(e){return N[t]=e}))})):t.map((function(e,t){return r().cloneElement(e,{key:t,voodooRef:function(e){return N[t]=e}})})),allItemRefs:N,nbGhostItems:n,nbItems:e.length,step:s,dec:o,tweenLines:a,windowSize:e.length*s}}),[I,g,b,v,S]),D=(t={items:I,renderItem:g,_childs:b,allItemRefs:N,state:z,index:R,infinite:v,visibleItems:x},n=r().useRef({}).current,Object.assign(n,t),n),q=r().useMemo((function(){return{defaultPosition:100+z.dec+D.index*z.step,size:z.nbGhostItems*z.step+100,scrollableWindow:x*z.step,bounds:!v&&{min:100,max:z.dec+z.nbGhostItems*z.step}||void 0,inertia:{snapToBounds:!1,maxJump:p,shouldLoop:v&&function(e,t){var n=z.windowSize;return t>0&&e>=100+2*n?-n:t<0&&e<100+n?n:void 0},willSnap:function(e,t){var n=D.state.nbItems;D._wasUserSnap=!0,j(e%n)},wayPoints:z.allItems.map((function(e,t){return{at:100+t*z.step}}))}}}),[z,v,x,p]),C=r().useMemo((function(){return{doClick:function(e){e.stopPropagation(),e.preventDefault()},updateItemsAxes:function(e){var t=(e-100)/D.state.step;D.allItemRefs.forEach((function(e,n){var s,o,r,i,a,l,u,c,d,f,m=t-n;m<0?(m=Math.max(m,-1),null==e||null==(r=e.axes)||null==(i=r.entering)||i.scrollTo(100*(1+m),0),null==e||null==(a=e.axes)||null==(l=a.leaving)||l.scrollTo(0,0)):(m=Math.min(m,1),null==e||null==(u=e.axes)||null==(c=u.entering)||c.scrollTo(100,0),null==e||null==(d=e.axes)||null==(f=d.leaving)||f.scrollTo(100*m,0)),null==e||null==(s=e.axes)||null==(o=s.visible)||o.scrollTo(100*(1-Math.abs(m)),0)}))},updateHeight:function(){var e=c.state,t=e.index,n=void 0===t?c.props.defaultIndex:t,s=e.sliderHeight;clearTimeout(c._autoHeightTm);try{var o=a().findDOMNode(c.slideRefs[n]);s!==o.offsetHeight+"px"&&c.setState({sliderHeight:o.offsetHeight+"px"})}catch(e){}c._autoHeightTm=setTimeout(c.updateHeight,500)},goNext:function(){var e=D.state,t=(e.step,e.windowSize,(e.nbItems+D.index+1)%D.state.nbItems);j(t)},goTo:function(e,t){var n=this.state,s=(n.step,n.windowSize,n.nbItems,this.props);s.tweener,s.scrollDir,this._then=t,this.setState({index:e})}}}),[]);return r().useEffect((function(){if(D._wasUserSnap)return D._wasUserSnap=!1,void(D.prevIndex=R);var e=D.state,t=e.step,n=e.dec,s=e.nbItems;D.prevIndex=D.prevIndex||0,v&&Math.abs(D.prevIndex-R)>Math.abs(s-D.prevIndex+R)?O.scrollTo(n+t*(s+R)+100,750,"slideAxis","easeQuadInOut").then((function(){O.scrollTo(n+t*R+100,0,"slideAxis")})):v&&Math.abs(R-D.prevIndex)>Math.abs(s-R+D.prevIndex)?O.scrollTo(n+t*-(s-R)+100,750,"slideAxis","easeQuadInOut").then((function(){O.scrollTo(n+t*R+100,0,"slideAxis")})):O.scrollTo(n+t*R+100,750,"slideAxis","easeQuadInOut"),D.prevIndex=R}),[R,v]),r().useEffect((function(){return C.updateItemsAxes(q.defaultPosition),O.watchAxis("slideAxis",(function(e){return C.updateItemsAxes(e)}))}),[]),r().useEffect((function(){if(E){var e,t=function(){D.hovering=!0},n=function(){D.hovering=!1};return e=setTimeout((function t(n){D.hovering||C.goNext(),e=setTimeout(t,E)}),E),L.current.addEventListener("mouseover",t),L.current.addEventListener("mouseout",n),function(){L.current.removeEventListener("mouseover",t),L.current.removeEventListener("mouseout",n),clearTimeout(e)}}}),[E]),r().createElement(k,{className:"rSlide Slider "+_,style:s()({userSelect:"none"},f),ref:L},r().createElement(u().Axis,s()({id:"slideAxis"},q)),r().createElement(u().Draggable,{xAxis:"slideAxis",className:"items",xHook:h,mouseDrag:!0},z.allItems.map((function(e,t){return r().createElement(u().Node,{key:t,style:l,axes:z.tweenLines[t]},r().createElement("div",{className:"slide",onClick:m&&function(e){return m(e,t%z.nbItems,C)}},e))}))))};module.exports=t})();
//# sourceMappingURL=react-voodoo-slider.js.map