/*! For license information please see react-voodoo-slider.js.LICENSE.txt */
(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>i});const t=require("@babel/runtime/helpers/extends");var o=e.n(t);const l=require("react");var s=e.n(l);require("react-dom");const r=require("react-voodoo");var a=e.n(r);const i=function(e){var n,t,l=e.defaultIndex,r=void 0===l?0:l,i=e.defaultInitial,u=e.defaultEntering,c=e.defaultLeaving,d=e.style,m=void 0===d?{}:d,f=e.onClick,v=e.onChange,p=e.onWillChange,h=e.infinite,x=e.maxJump,g=e.visibleItems,I=e.dragHook,b=e.items,E=e.renderItem,S=e.children,C=e.overlaps,T=void 0===C?1/(g-g%2||1):C,w=e.index,y=e.autoScroll,A=e.autoScrollEaseFn,M=void 0===A?"easeQuadInOut":A,L=e.autoScrollEaseDuration,_=void 0===L?750:L,k=e.className,D=void 0===k?"":k,N=a().hook(),O=N[0],P=N[1],R=s().useRef(),W=s().useRef([]).current,j=s().useState(void 0!==w?w:r),z=j[0],F=j[1],q=s().useMemo((function(){var e=b&&E?[].concat(b):Array.isArray(S)?S:[],n=h?[].concat(e,e,e,e,e,e):[].concat(e),t=n.length,o=100*T,l=h?e.length*o:0,r=[].concat(u,a().tools.offset(c,100)),i=n.map((function(e,n){return{slideAxis:a().tools.offset(r,n*o)}}));return{allItems:n=b&&E?n.map((function(e,n){return E(e,n,(function(e){return W[n]=e}))})):n.map((function(e,n){return s().cloneElement(e,{key:n,voodooRef:function(e){return W[n]=e}})})),allItemRefs:W,nbGhostItems:t,nbItems:e.length,step:o,dec:l,tweenLines:i,windowSize:e.length*o}}),[b,E,S,h,T]),G=(n={items:b,renderItem:E,onChange:v,onWillChange:p,autoScrollEaseFn:M,autoScrollEaseDuration:_,_childs:S,allItemRefs:W,state:q,currentIndex:z,infinite:h,visibleItems:g},t=s().useRef({}).current,Object.assign(t,n),t),U=s().useMemo((function(){return{defaultPosition:100+q.dec+G.currentIndex*q.step,size:q.nbGhostItems*q.step+100,scrollableWindow:g*q.step,bounds:!h&&{min:100,max:q.dec+q.nbGhostItems*q.step}||void 0,inertia:{snapToBounds:!1,maxJump:x,shouldLoop:h&&function(e,n){var t=q.windowSize;return n>0&&e>=100+2*t?-t:n<0&&e<100+t?t:void 0},willSnap:function(e,n){var t,o=e%G.state.nbItems;G._wasUserSnap=!0,F(o),null==G.onWillChange||G.onWillChange(o,null==(t=G.items)?void 0:t[o])},onSnap:function(e,n){var t,o=e%G.state.nbItems;null==G.onChange||G.onChange(o,null==(t=G.items)?void 0:t[o])},wayPoints:q.allItems.map((function(e,n){return{at:100+n*q.step}}))}}}),[q,h,g,x]),H=s().useMemo((function(){return{updateItemsAxes:function(e){var n=(e-100)/G.state.step;G.allItemRefs.forEach((function(e,t){var o,l,s,r,a,i,u,c,d,m,f=n-t;f<0?(f=Math.max(f,-1),null==e||null==(s=e.axes)||null==(r=s.entering)||r.scrollTo(100*(1+f),0),null==e||null==(a=e.axes)||null==(i=a.leaving)||i.scrollTo(0,0)):(f=Math.min(f,1),null==e||null==(u=e.axes)||null==(c=u.entering)||c.scrollTo(100,0),null==e||null==(d=e.axes)||null==(m=d.leaving)||m.scrollTo(100*f,0)),null==e||null==(o=e.axes)||null==(l=o.visible)||l.scrollTo(100*(1-Math.abs(f)),0)}))},goNext:function(){var e=G.state,n=(e.step,e.windowSize,(e.nbItems+G.currentIndex+1)%G.state.nbItems);F(n)},goTo:function(e){var n=G.state,t=(n.step,n.windowSize,n.nbItems);F((t+e)%t)}}}),[]);return s().useEffect((function(){var e;if(G._wasUserSnap)return G._wasUserSnap=!1,void(G.prevIndex=z||0);var n=G.state,t=n.step,o=n.dec,l=n.nbItems;G.prevIndex=G.prevIndex||0,null==G.onWillChange||G.onWillChange(z,null==(e=G.items)?void 0:e[z]),h&&Math.abs(G.prevIndex-z)>Math.abs(l-G.prevIndex+z)?O.scrollTo(o+t*(l+z)+100,G.autoScrollEaseDuration,"slideAxis",G.autoScrollEaseFn).then((function(){var e;O.scrollTo(o+t*z+100,0,"slideAxis"),null==G.onChange||G.onChange(z,null==(e=G.items)?void 0:e[z])})):h&&Math.abs(z-G.prevIndex)>Math.abs(l-z+G.prevIndex)?O.scrollTo(o+t*-(l-z)+100,G.autoScrollEaseDuration,"slideAxis",G.autoScrollEaseFn).then((function(){var e;O.scrollTo(o+t*z+100,0,"slideAxis"),null==G.onChange||G.onChange(z,null==(e=G.items)?void 0:e[z])})):O.scrollTo(o+t*z+100,G.autoScrollEaseDuration,"slideAxis",G.autoScrollEaseFn).then((function(){var e;null==G.onChange||G.onChange(z,null==(e=G.items)?void 0:e[z])})),G.prevIndex=z}),[z,h]),s().useEffect((function(){O.scrollTo(q.dec+q.step*z+100,0)}),[q.nbItems,q.dec,q.step]),s().useEffect((function(){void 0!==w&&H.goTo(w)}),[w]),s().useEffect((function(){return H.updateItemsAxes(U.defaultPosition),O.watchAxis("slideAxis",(function(e){return H.updateItemsAxes(e)}))}),[]),s().useEffect((function(){if(y){var e,n=function(){G.hovering=!0},t=function(){G.hovering=!1};return e=setTimeout((function n(t){G.hovering||H.goNext(),e=setTimeout(n,y)}),y),R.current.addEventListener("mouseover",n),R.current.addEventListener("mouseout",t),function(){R.current.removeEventListener("mouseover",n),R.current.removeEventListener("mouseout",t),clearTimeout(e)}}}),[y]),s().createElement(P,{className:"VoodooCarousel Carousel "+D,style:o()({userSelect:"none"},m),ref:R},s().createElement(a().Axis,o()({id:"slideAxis"},U)),s().createElement(a().Draggable,{xAxis:"slideAxis",className:"items",xHook:I,mouseDrag:!0},q.allItems.map((function(e,n){return s().createElement(a().Node,{key:n,style:i,axes:q.tweenLines[n]},s().createElement("div",{className:"slide",onClick:f&&function(e){return f(e,n%q.nbItems,H)}},e))}))))};module.exports=n})();
//# sourceMappingURL=react-voodoo-slider.js.map